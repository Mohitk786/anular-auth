<p class="text-lg font-semibold mb-4">reset-password works!</p>

<form
  [formGroup]="resetPasswordPayload"
  (ngSubmit)="onResetPassword()"
  class="max-w-md mx-auto bg-white p-6 rounded shadow"
>
  <div class="mb-4">
    <label for="newPassword" class="block text-gray-700 font-medium mb-2">New Password:</label>
    <input
      id="newPassword"
      type="password"
      formControlName="newPassword"
      class="w-full px-3 py-2 border rounded focus:outline-none focus:ring focus:border-blue-300"
      [class.border-red-500]="
        resetPasswordPayload.get('newPassword')?.invalid &&
        resetPasswordPayload.get('newPassword')?.touched
      "
    />
    @if(resetPasswordPayload.get('newPassword')?.invalid &&
    resetPasswordPayload.get('newPassword')?.touched){

    <div class="text-red-500 text-sm mt-1">
      @if(resetPasswordPayload.get('newPassword')?.errors?.['required']){
      <span>Password is required.</span>
      } @if(resetPasswordPayload.get('newPassword')?.errors?.['minlength']){
      <span>Password must be at least 8 characters.</span>
      }
    </div>
    }
  </div>

  <div class="mb-4">
    <label for="confirmNewPassword" class="block text-gray-700 font-medium mb-2"
      >Confirm New Password:</label
    >
    <input
      id="confirmNewPassword"
      type="password"
      formControlName="confirmNewPassword"
      class="w-full px-3 py-2 border rounded focus:outline-none focus:ring focus:border-blue-300"
      [class.border-red-500]="
        resetPasswordPayload.get('confirmNewPassword')?.invalid &&
        resetPasswordPayload.get('confirmNewPassword')?.touched
      "
    />
    @if(resetPasswordPayload.get('confirmNewPassword')?.invalid &&
    resetPasswordPayload.get('confirmNewPassword')?.touched){
    <div class="text-red-500 text-sm mt-1">
      @if(resetPasswordPayload.get('confirmNewPassword')?.errors?.['required']){
      <span>Please confirm your password.</span>}
    </div>
    }
  </div>

  @if(successMessage()) {
  <div class="mb-4 text-green-600 font-medium text-right">
    {{ successMessage() }}
  </div>
  } @if(errorMessage()) {
  <div class="mb-4 text-red-600 font-medium text-right">
    {{ errorMessage() }}
  </div>
  }

  <button
    type="submit"
    [disabled]="!resetPasswordPayload.valid || isSubmitting()"
    class="bg-gradient-to-r from-indigo-500 to-purple-500 text-white px-8 py-3 rounded-xl font-bold shadow-lg hover:from-indigo-600 hover:to-purple-600 duration-150 disabled:opacity-50 flex items-center justify-center"
  >
    @if(isSubmitting()) {
    <app-loader></app-loader>
    } @else { Reset Password }
  </button>
</form>
